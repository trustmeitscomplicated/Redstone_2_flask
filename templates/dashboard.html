<!DOCTYPE html>
<html lang="pl" class="">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DeFiLlama TVL Report</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Inter', sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
    .font-mono { font-family: 'Space Mono', monospace; }
    .dark ::-webkit-scrollbar { width: 8px; }
    .dark ::-webkit-scrollbar-track { background: #1f2937; }
    .dark ::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 4px; }
    .dark ::-webkit-scrollbar-thumb:hover { background: #6b7280; }
    select {
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
      background-position: right 0.5rem center;
      background-repeat: no-repeat;
      background-size: 1.5em 1.5em;
      padding-right: 2.5rem;
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
    }
  </style>
</head>

<body class="min-h-screen bg-gray-100 text-gray-800 selection:bg-emerald-500/20 dark:bg-gray-900 dark:text-gray-200 transition-colors duration-300">
  
  <div class="container mx-auto px-4 py-8 md:px-6 lg:px-8">
    
    <!-- Header -->
    <header class="mb-6">
      <div class="flex flex-col md:flex-row justify-between md:items-center gap-4">
        <div>
          <h1 class="text-2xl md:text-3xl font-bold tracking-tight text-gray-900 dark:text-white">Raport TVL protokołów DeFi</h1>
          <p id="reportDates" class="text-sm text-gray-500 dark:text-gray-400 mt-1">Wybierz daty do porównania lub zobacz ostatni raport tygodniowy.</p>
        </div>
        <div class="flex items-center gap-2">
           <button id="themeBtn" class="p-2 rounded-lg bg-white dark:bg-gray-800/50 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200 shadow-sm" title="Zmień motyw">
            <svg id="sunIcon" class="hidden h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.909-2.636l1.591-1.591M5.25 12H3m4.227-4.227l-1.591 1.591" /></svg>
            <svg id="moonIcon" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" /></svg>
          </button>
        </div>
      </div>
      
      <!-- Kontrolki wyboru daty -->
      <div class="mt-6 p-4 bg-white dark:bg-gray-800/50 rounded-2xl shadow-sm flex flex-col sm:flex-row items-center gap-4">
        <div class="w-full">
          <label for="startDate" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Data początkowa</label>
          <select id="startDate" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm rounded-md"></select>
        </div>
        <div class="w-full">
          <label for="endDate" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Data końcowa</label>
          <select id="endDate" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm rounded-md"></select>
        </div>
        <button id="compareBtn" class="w-full sm:w-auto mt-2 sm:mt-5 px-6 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 dark:ring-offset-gray-800">
          Porównaj
        </button>
      </div>
    </header>

    <!-- Main Content -->
    <main id="reportContainer">
        <!-- Skeleton Loader -->
        <div id="loader" class="space-y-6">
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-white dark:bg-gray-800/50 p-6 rounded-2xl shadow-sm animate-pulse space-y-4">
                    <div class="h-6 bg-gray-200 dark:bg-gray-700 rounded w-2/3"></div>
                    <div class="h-10 bg-gray-200 dark:bg-gray-700 rounded"></div>
                    <div class="h-10 bg-gray-200 dark:bg-gray-700 rounded"></div>
                    <div class="h-10 bg-gray-200 dark:bg-gray-700 rounded"></div>
                </div>
                <div class="bg-white dark:bg-gray-800/50 p-6 rounded-2xl shadow-sm animate-pulse space-y-4">
                    <div class="h-6 bg-gray-200 dark:bg-gray-700 rounded w-2/3"></div>
                    <div class="h-10 bg-gray-200 dark:bg-gray-700 rounded"></div>
                    <div class="h-10 bg-gray-200 dark:bg-gray-700 rounded"></div>
                </div>
                <div class="bg-white dark:bg-gray-800/50 p-6 rounded-2xl shadow-sm animate-pulse space-y-4">
                    <div class="h-6 bg-gray-200 dark:bg-gray-700 rounded w-2/3"></div>
                    <div class="h-10 bg-gray-200 dark:bg-gray-700 rounded"></div>
                </div>
            </div>
        </div>

        <!-- Report Content (to be filled by JS) -->
        <div id="reportContent" class="hidden">
            <!-- Error Message -->
            <div id="errorMessage" class="hidden bg-red-100 dark:bg-red-900/30 border-l-4 border-red-500 text-red-700 dark:text-red-300 p-4 rounded-lg mb-6" role="alert">
                <p class="font-bold">Wystąpił błąd</p>
                <p id="errorText"></p>
            </div>

            <!-- Main report grid -->
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Increases by % -->
                <div id="increases-pct-section" class="bg-white dark:bg-gray-800/50 p-4 sm:p-6 rounded-2xl shadow-sm space-y-4">
                    <h2 class="text-lg font-bold flex items-center gap-2 text-gray-800 dark:text-gray-100">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-sky-500"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 7.5l.415-.207a.75.75 0 011.085.67V10.5m0 0h6m-6 0a.75.75 0 00.75.75h4.5a.75.75 0 00.75-.75v-4.5a.75.75 0 00-.75-.75h-4.5a.75.75 0 00-.75.75v4.5z" /><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 21.75h16.5a1.5 1.5 0 001.5-1.5v-16.5a1.5 1.5 0 00-1.5-1.5H3.75a1.5 1.5 0 00-1.5 1.5v16.5a1.5 1.5 0 001.5 1.5z" /></svg>
                        Wzrosty (%)
                    </h2>
                    <div id="increases-pct-list" class="space-y-3"></div>
                </div>

                <!-- Increases by $ -->
                <div id="increases-abs-section" class="bg-white dark:bg-gray-800/50 p-4 sm:p-6 rounded-2xl shadow-sm space-y-4">
                    <h2 class="text-lg font-bold flex items-center gap-2 text-gray-800 dark:text-gray-100">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-emerald-500"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.75A.75.75 0 013 4.5h.75m0 0H21m-9 12h5.25m-5.25 0h-7.5" /></svg>
                        Wzrosty (kwota)
                    </h2>
                    <div id="increases-abs-list" class="space-y-3"></div>
                </div>
                
                <!-- New Protocols -->
                <div id="new-protocols-section" class="bg-white dark:bg-gray-800/50 p-4 sm:p-6 rounded-2xl shadow-sm space-y-4">
                    <h2 class="text-lg font-bold flex items-center gap-2 text-gray-800 dark:text-gray-100">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-amber-500"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.572L16.5 21.75l-.398-1.178a3.375 3.375 0 00-2.455-2.456L12.75 18l1.178-.398a3.375 3.375 0 002.455-2.456L16.5 14.25l.398 1.178a3.375 3.375 0 002.456 2.456L20.25 18l-1.178.398a3.375 3.375 0 00-2.456 2.456z" /></svg>
                        Nowe protokoły
                    </h2>
                    <div id="new-protocols-list" class="space-y-3"></div>
                </div>
            </div>
        </div>
    </main>

  </div>
  
  <script src="/static/js/dashboard.js"></script>
</body>
</html>
